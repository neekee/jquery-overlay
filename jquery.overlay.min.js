/*! jquery-overlay - v0.0.5 - 2016-11-02 */
!function(a){"use strict";var b=function(){var b;return b=a("<div></div>").css(["color"]).color,"undefined"!=typeof b?function(a,b){return a.css(b)}:function(b,c){var d;return d={},a.each(c,function(a,c){d[c]=b.css(c)}),d}}(),c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},d=/[&<>"'\/]/g,e=function(a){return"undefined"!=typeof a?a.replace(d,function(a){return c[a]}):void 0},f=function(){function c(c){var e,i;i=c.css("position"),"static"===i&&(i="relative"),e=a(d.wrapper).css(a.extend({},f.wrapper,b(c,g),{position:i})),this.textareaTop=parseInt(c.css("border-top-width")),this.textareaLeft=parseInt(c.css("border-left-width")),this.$el=a(d.overlay).css(a.extend({},f.overlay,b(c,h),{top:this.textareaTop,right:parseInt(c.css("border-right-width")),bottom:parseInt(c.css("border-bottom-width")),left:parseInt(c.css("border-left-width"))})),this.$textarea=c.css(f.textarea),this.$textarea.wrap(e).before(this.$el),c.is("input[type='text']")?(e.addClass("with-input"),this.$el.css("white-space","nowrap"),"100%"==c.css("width")&&e.css("width","100%")):c.is("textarea")&&(e.addClass("with-textarea"),c.css("margin",0),c.css("overflow-y","scroll"),this.$el.css("margin",0)),this.$textarea.origVal=c.val,this.$textarea.val=a.proxy(this.val,this),this.$textarea.on({"input.overlay":a.proxy(this.onInput,this),"change.overlay":a.proxy(this.onInput,this),"scroll.overlay":a.proxy(this.resizeOverlay,this),"resize.overlay":a.proxy(this.resizeOverlay,this),"keydown.overlay":a.proxy(this.resizeOverlay,this),"keyup.overlay":a.proxy(this.resizeOverlay,this),"focus.overlay":a.proxy(this.resizeOverlay,this),"blur.overlay":a.proxy(this.resizeOverlay,this),"click.overlay":a.proxy(this.resizeOverlay,this),"wheel.overlay":a.proxy(this.resizeOverlay,this),"DOMFocusOut.overlay":a.proxy(this.resizeOverlay,this)}),this.strategies=[]}var d,f,g,h;return d={wrapper:'<div class="textoverlay-wrapper"></div>',overlay:'<div class="textoverlay"></div>'},f={wrapper:{margin:0,padding:0,overflow:"hidden"},overlay:{position:"absolute",color:"transparent","white-space":"pre-wrap","word-wrap":"break-word"},textarea:{background:"transparent",position:"relative",outline:0}},g=["display"],h=["margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","font-family","font-weight","font-size","background-color"],a.extend(c.prototype,{val:function(a){return null==a?this.$textarea.origVal():this.setVal(a)},setVal:function(a){return this.$textarea.origVal(a),this.renderTextOnOverlay(),this.$textarea},onInput:function(a){this.renderTextOnOverlay(),this.resizeOverlay()},renderTextOnOverlay:function(){var b,c,d,f,g,h;for(b=a("<div></div>").text(this.$textarea.val()),c=0,d=this.strategies.length;d>c;c++)if(f=this.strategies[c],g=f.match,a.isArray(g)&&(g=a.map(g,function(a){return a.replace(/(\(|\)|\|)/g,"\\$1")}),g=new RegExp("("+g.join("|")+")","g")),h=Object.keys(f.css).map(function(a){return a+": "+f.css[a]}).join(";"),this.allowOverlapping){var i,j,k,l;for(i=b.html(),l="",j=g.lastIndex=0;j<i.length;j=g.lastIndex){if(k=g.exec(i),!k){j&&(l+=i.substr(j));break}k=k[0],l+=i.substr(j,g.lastIndex-j-k.length),l+='<span style="'+h+'">'+k+"</span>"}j&&b.html(l)}else b.contents().each(function(){var b,c,d,f;if(this.nodeType==Node.TEXT_NODE){for(b=this.textContent,c="",f=g.lastIndex=0;;f=g.lastIndex){if(d=g.exec(b),!d){f&&(c+=e(b.substr(f)));break}d=d[0],c+=e(b.substr(f,g.lastIndex-f-d.length)),c+='<span style="'+h+'">'+e(d)+"</span>"}f&&a(this).replaceWith(c)}});return this.$el.html(b.contents()),this},resizeOverlay:function(){this.$el.css({top:this.textareaTop-this.$textarea.scrollTop()}),this.$el.css({left:this.textareaLeft-this.$textarea.scrollLeft()}),this.$textarea.is("textarea")&&(this.$el.css({width:this.$textarea.width()-parseInt(this.$textarea.css("padding-left"))-parseInt(this.$textarea.css("padding-right"))}),this.$el.css({"padding-right":this.$textarea.width()-this.$el.width()+parseInt(this.$textarea.css("padding-right"))}))},register:function(b,c){return b=a.isArray(b)?b:[b],this.strategies=this.strategies.concat(b),null==this.allowOverlapping&&(this.allowOverlapping=c.allowOverlapping),this.renderTextOnOverlay()},destroy:function(){var a;this.$textarea.off(".overlay"),a=this.$textarea.parent(),a.after(this.$textarea).remove(),this.$textarea.removeData("overlay"),this.$textarea=null}}),c}();a.fn.overlay=function(b,c){var d;return d="overlay",null==c&&(c={}),"destroy"===b?this.each(function(){var b=a(this).data(d);b&&b.destroy()}):this.each(function(){var e,g;e=a(this),g=e.data(d),g||(g=new f(e),e.data(d,g)),g.register(b,c)})}}(window.jQuery);
//# sourceMappingURL=jquery.overlay.min.map