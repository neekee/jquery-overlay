/*! jquery-overlay - v0.0.5 - 2017-03-23 */
!function(a){"use strict";var b=function(){var b;return b=a("<div></div>").css(["color"]).color,"undefined"!=typeof b?function(a,b){return a.css(b)}:function(b,c){var d;return d={},a.each(c,function(a,c){d[c]=b.css(c)}),d}}(),c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},d=/[&<>"'\/]/g,e=function(a){return"undefined"!=typeof a?a.replace(d,function(a){return c[a]}):void 0},f=function(){function c(c){var e,i;if(i=c.css("position"),"static"===i&&(i="relative"),e=a(d.wrapper).css(a.extend({},f.wrapper,b(c,g),{position:i})),this.textareaTop=parseInt(c.css("border-top-width")),this.textareaLeft=parseInt(c.css("border-left-width")),this.$el=a(d.overlay).css(a.extend({},f.overlay,b(c,h),{top:this.textareaTop,right:parseInt(c.css("border-right-width")),bottom:parseInt(c.css("border-bottom-width")),left:parseInt(c.css("border-left-width"))})),this.$textarea=c.css(f.textarea),c.is("input[type='text']")){if(this.$el.css("white-space","nowrap"),e.addClass("with-input"),"100%"==c.css("width")&&e.css("width","100%"),c.css("margin-right")&&"0px"!=c.css("margin-right")){var j=c.css("margin-right");c.css("margin-right","0"),e.css("margin-right",j)}}else c.is("textarea")&&(e.addClass("with-textarea"),c.css("margin",0),c.css("overflow-y","scroll"),this.$el.css("margin",0));this.$textarea.wrap(e).before(this.$el),this.$textarea.origVal=c.val,this.$textarea.val=a.proxy(this.val,this),this.$textarea.on({"input.overlay":a.proxy(this.onInput,this),"change.overlay":a.proxy(this.onInput,this),"scroll.overlay":a.proxy(this.resizeOverlay,this),"resize.overlay":a.proxy(this.resizeOverlay,this),"keydown.overlay":a.proxy(this.resizeOverlay,this),"keyup.overlay":a.proxy(this.resizeOverlay,this),"focus.overlay":a.proxy(this.resizeOverlay,this),"blur.overlay":a.proxy(this.resizeOverlay,this),"click.overlay":a.proxy(this.resizeOverlay,this),"wheel.overlay":a.proxy(this.resizeOverlay,this),"DOMFocusOut.overlay":a.proxy(this.resizeOverlay,this)}),this.strategies=[]}var d,f,g,h;return d={wrapper:'<div class="textoverlay-wrapper"></div>',overlay:'<div class="textoverlay"></div>'},f={wrapper:{margin:0,padding:0,overflow:"hidden"},overlay:{position:"absolute",color:"transparent","white-space":"pre-wrap","word-wrap":"break-word"},textarea:{background:"transparent",position:"relative",outline:0}},g=["display"],h=["margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","font-family","font-weight","font-size","background-color"],a.extend(c.prototype,{val:function(a){return null==a?this.$textarea.origVal():this.setVal(a)},setVal:function(a){return this.$textarea.origVal(a),this.renderTextOnOverlay(),this.$textarea},onInput:function(a){this.renderTextOnOverlay(),this.resizeOverlay()},renderTextOnOverlay:function(){function b(a,b){var c;return c=[{index:0,string:b}],a.forEach(function(a){var b;b=[],c.forEach(function(c){for(var d,e;null!==(d=a.exec(c.string));)e=d[0],b.push({index:c.index+a.lastIndex-e.length,string:e})}),c=b}),c}var c,d,f,g,h,i,j,k,l,m;for(c=a("<div></div>").text(this.$textarea.val()),d=0,f=this.strategies.length;f>d;d++)g=this.strategies[d],h=g.match,!this.allowMultiPartMatching&&a.isArray(h)&&(h=a.map(h,function(a){return a.replace(/(\(|\)|\|)/g,"$1")}),h=new RegExp("("+h.join("|")+")","g")),a.isArray(h)||(h=[h]),this.allowMultiPartMatching&&(h=a.map(h,function(b){return"string"===a.type(b)?new RegExp(b,"g"):b})),i=Object.keys(g.css).map(function(a){return a+": "+g.css[a]}).join(";"),this.allowOverlapping?(j=c.html(),k="",m=b(h,j),l=0,m.forEach(function(a){k+=j.substr(l,a.index-l),k+='<span style="'+i+'">'+a.string+"</span>",l=a.index+a.string.length}),k+=j.substr(l),c.html(k)):c.contents().each(function(){var c,d,f,g;this.nodeType==Node.TEXT_NODE&&(c=this.textContent,d="",g=b(h,c),f=0,g.forEach(function(a){d+=c.substr(f,a.index-f),d+='<span style="'+i+'">'+e(a.string)+"</span>",f=a.index+a.string.length}),d+=e(c.substr(f)),a(this).replaceWith(d))});return this.$el.html(c.contents()),this},resizeOverlay:function(){this.$el.css({top:this.textareaTop-this.$textarea.scrollTop()}),this.$el.css({left:this.textareaLeft-this.$textarea.scrollLeft()}),this.$textarea.is("textarea")&&(this.$el.css({width:this.$textarea.width()-parseInt(this.$textarea.css("padding-left"))-parseInt(this.$textarea.css("padding-right"))}),this.$el.css({"padding-right":this.$textarea.width()-this.$el.width()+parseInt(this.$textarea.css("padding-right"))}))},register:function(b,c){return b=a.isArray(b)?b:[b],this.strategies=this.strategies.concat(b),null==this.allowOverlapping&&(this.allowOverlapping=c.allowOverlapping),null==this.allowMultiPartMatching&&(this.allowMultiPartMatching=c.allowMultiPartMatching),this.renderTextOnOverlay()},destroy:function(){var a;this.$textarea.off(".overlay"),a=this.$textarea.parent(),a.after(this.$textarea).remove(),this.$textarea.removeData("overlay"),this.$textarea=null}}),c}();a.fn.overlay=function(b,c){var d;return d="overlay",null==c&&(c={}),"destroy"===b?this.each(function(){var b=a(this).data(d);b&&b.destroy()}):this.each(function(){var e,g;e=a(this),g=e.data(d),g||(g=new f(e),e.data(d,g)),g.register(b,c)})}}(window.jQuery);
//# sourceMappingURL=jquery.overlay.min.map